# ===================================================================
# PLSBL Vaadin - Application Configuration
# ===================================================================

# Server
server.port=8085
server.servlet.session.persistent=false

# Default Profil: H2 für Entwicklung (oder oracle für Produktion)
# Für Oracle: spring.profiles.active=oracle
# Mit H2 werden schema-h2.sql und data-h2.sql automatisch geladen
spring.profiles.active=h2

# Vaadin
vaadin.launch-browser=true
vaadin.whitelisted-packages=com.vaadin,com.hydro.plsbl
# URL-Mapping fuer Vaadin - laesst /api/* fuer REST frei
vaadin.url-mapping=/ui/*

# Logging
logging.level.com.hydro.plsbl=DEBUG
logging.level.org.springframework.jdbc=DEBUG

# ===================================================================
# Datenbank-Konfiguration wird über Profile gesteuert:
# - application-h2.properties   (Standard für Entwicklung)
# - application-oracle.properties (für Produktion)
# ===================================================================

# ===================================================================
# Arbeitsplatz-Berechtigungen (Kran-Steuerung)
# ===================================================================

# Arbeitsplätze die den Kran steuern DÜRFEN (Whitelist)
# Mehrere durch Komma trennen
plsbl.workstations.crane-controllers=KRAN-PC-01,KRAN-PC-02,localhost,127.0.0.1

# Arbeitsplätze die NUR Ansicht haben (explizit)
plsbl.workstations.view-only=BUERO-PC-01,BUERO-PC-02

# Standard-Modus für nicht konfigurierte Arbeitsplätze
# VIEW = Nur Ansicht (sicher)
# CONTROL = Voller Zugriff (unsicher für Produktion!)
plsbl.workstations.default-mode=VIEW

# Token-basierte Steuerung: Nur EINER kann gleichzeitig steuern
plsbl.workstations.token-based-control=true

# Timeout in Sekunden nach dem ein inaktiver Token freigegeben wird
plsbl.workstations.token-timeout-seconds=300

# ===================================================================
# Kran-Simulator Konfiguration
# ===================================================================

# Simulator aktivieren/deaktivieren
plsbl.simulator.enabled=true

# Automatisch starten beim Anwendungsstart
plsbl.simulator.auto-start=true

# Simulationsintervall in Millisekunden
plsbl.simulator.interval-ms=500

# Bewegungsschrittweite in mm pro Intervall (Phasenerkennung: 500mm)
plsbl.simulator.delta-x=1000
plsbl.simulator.delta-y=500
plsbl.simulator.delta-z=200

# Standard-Höhe (Z-Position) in mm
plsbl.simulator.default-z=5000

# Parkposition in mm (innerhalb Lager: X=3000-51000, Y=3000-30000)
# park-x=27000, park-y=18000 entspricht etwa Mitte des Lagers (Spalte 9, Reihe 6)
plsbl.simulator.park-x=27000
plsbl.simulator.park-y=18000

# ===================================================================
# SPS/PLC Konfiguration (Apache PLC4X)
# ===================================================================

# Poll-Intervall fuer Status-Abfrage in Millisekunden
plsbl.plc.poll-interval=500

# Hinweis: SPS-Einstellungen werden in der Datenbank gespeichert (MD_APPSETTING)
# Standardwerte in SettingsService:
# - SPS_ENABLED = 1 (aktiviert)
# - SPS_URL = s7://10.72.242.190:102?remote-slot=1
# - SPS_TIMEOUT = 10
# - SPS_RETRY_COUNT = 3
#
# Wenn keine SPS erreichbar ist, wird automatisch der Simulator verwendet
# (sofern plsbl.simulator.enabled=true)
